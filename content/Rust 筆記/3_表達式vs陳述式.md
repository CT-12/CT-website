<!-- 
date: 2024-01-19
update: 2024-01-19
Tag: 
    - Rust
-->

在 Rust 中，**表達式**（expression）和**陳述式**（statement）是兩種基本的程式構造，它們在語法和行為上的區別如下：

---

### **表達式（Expression）**

**表達式是會產生值的語法結構**，它總是會計算出一個值（或者是單元類型 `()`），並且可以嵌套在其他地方使用。

#### 特點：
1. **會有值**：表達式的重點是計算值。
2. **可以嵌套**：表達式可以出現在任何需要值的地方（如變數初始化、函數的參數、條件判斷等）。
3. **無需分號結尾**：如果在語句中，表達式通常不能有分號結尾。分號會將其變為陳述式。

#### 常見的表達式：
- **字面量**：`42`，`true`，`"hello"`
- **函數呼叫**：`some_function()`
- **運算**：`1 + 2`
- **區塊表達式**：`{ let x = 2; x * 3 }`
- **if 表達式**：`if x > 5 { 10 } else { 20 }`
- **loop 表達式**（返回值使用 `break`）：`loop { break 42 }`

#### 範例：
```rust
fn main() {
    let x = 5 + 3;       // `5 + 3` 是一個表達式，結果是 8
    let y = { x * 2 };   // `{ x * 2 }` 是區塊表達式，結果是 16
    println!("{}", y);   // 輸出 16
}
```

---

### **陳述式（Statement）**

**陳述式是用來執行某些操作的語法結構**，但它不會返回值。

#### 特點：
1. **不返回值**：陳述式僅表示執行動作，不能用於計算值。
2. **通常以分號結尾**：陳述式需要用分號 `;` 結尾（表達式加分號會變成陳述式）。
3. **不能嵌套在需要值的地方**：因為陳述式不返回值，不能直接用於賦值或作為函數的參數。

#### 常見的陳述式：
- **變數綁定**：`let x = 5;` （`let` 本身是陳述式，但等號右側是表達式）。
- **表達式加分號**：如 `x + 1;`，這是一個表達式轉為陳述式的例子。
- **函數定義**：`fn my_function() {}`

#### 範例：
```rust
fn main() {
    let x = 5;       // 變數綁定是陳述式
    x + 1;           // 表達式 `x + 1` 加上分號後變為陳述式，執行但無返回值
    println!("{}", x);
}
```

---

### **表達式與陳述式的結合**
- 表達式可以構成陳述式（通過加上分號）。
- 但陳述式不能構成表達式，因為它不會產生值。

#### 範例對比：
```rust
fn main() {
    let x = 5;       // 陳述式
    let y = {
        let z = 10;  // 陳述式
        z * 2        // 表達式，這是區塊的最後一行，返回值為 20
    };
    println!("{}", y); // 輸出 20
}
```

---

### **關鍵區別：是否有值**

| **特徵**       | **表達式**                 | **陳述式**                       |
|----------------|----------------------------|-----------------------------------|
| **返回值**     | 總是有值                   | 沒有值（或者返回單位值 `()`）    |
| **分號**       | 通常不加分號               | 必須以分號結尾                   |
| **嵌套能力**   | 可以嵌套使用               | 無法嵌套使用                     |
| **範例**       | `5 + 3`, `{ x * 2 }`       | `let x = 5;`, `x + 1;`           |

Rust 中，表達式是構建程式邏輯的核心，而陳述式則用於組織和執行操作。

---
此筆記僅是為了紀錄學習過程，如欲完整學習 rust，請去看官方提供的文件，那裡有更加完善的學習資源。筆記內容為自己的理解因此可能存在錯誤，如有錯誤敬請見諒。